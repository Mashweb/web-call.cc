<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>web-call/cc homepage</title>
    <!-- Some of the following inclusions might not be necessary or useful -->
    <link href="css/screen.css" rel="stylesheet" type="text/css">
    <link href="css/jquery.terminal-2.3.0.css" rel="stylesheet" type="text/css">
    <link href="css/prism-coy.css" rel="stylesheet" type="text/css">
    <script src="js/biwascheme-0.6.9-min.js"></script>
    <script src="js/jquery.mousewheel.min.js"></script>
    <script src="js/jquery.timers.min.js"></script>
    <script src="js/jquery.cookie.min.js"></script>
    <script src="js/jquery.terminal-2.3.0.js"></script>
    <script src="js/prism.js"></script>
    <script src="js/prism-scheme.js"></script>
    <script src="js/jquery.terminal.prism.js"></script>
    <script src="js/keyboard.js"></script>
    <script src="js/biwascheme_terminal.js"></script>
    <script>
      var body;
      var cldn;
      window.addEventListener('DOMContentLoaded', () => {
	body = document.body;
	cldn = body.children;
	console.log("(In JS) body => " + body);
      });
    </script>
    <style>
      h3 { margin: 0; padding-left: 0; border-left: none; }
      ul { margin: 0; }
      p  { margin-top: 1em; margin-bottom: 0; }
    </style>
  </head>
  <body>
    <div id="content">
      <h1>web-call.cc</h1>
      <h3>What's on this website:</h3>
      <ul>
	<li><a href="doc/func.html">Functional specification of the Zen Database</a></li>
	<li><a href="seq-progd-webapp.html">Sequentially programmed web app examples</a></li>
	<li><a href="mdn-drag-and-drop.html">Example ondragover and ondrop event handlers from MDN</a></li>
	<li><a href="mdn-drag-and-drop-modd.html">Example ondragover and ondrop event handlers from MDN, modified</a></li>
	<li><a href="mdn-drag-and-drop-mod-2.html">Example ondragover and ondrop event handlers from MDN, completely generalised</a></li>
      </ul>
      <p>The following examples show how BiwaScheme can manipulate the DOM:</p>
      <pre>
<code>(define elem #f)
(define nodes #f)
(set! elem (js-ref (js-invoke (getelem "body") "children") "0"))
elem ;; => [object HTMLDivElement]
(js-ref elem "tagName") ;; => "DIV"
(js-ref elem "children") ;; => [object HTMLCollection]
(set! nodes (js-ref elem "childNodes"))
nodes ;; => [object NodeList]
(js-array->list nodes)
;; => ([object Text] [object HTMLHeadingElement] [object Text] ...)
(js-obj->alist (js-ref elem "children"))
;; => ((0 . [object HTMLHeadingElement]) (1 . [object HTMLHeadingElement]) ...)

;; To call the browser function 'console.dir', define a Scheme function:
(define console-dir (js-ref (js-eval "console") "dir"))
;; Call the Scheme function like this:
(console-dir elem)</code>
      </pre>
      <div id="term" style="margin: 10px 15px 15px 0px; float:left; "></div>
    </div>
    <div style="clear:left;">
    </div>
  </body>
</html>
