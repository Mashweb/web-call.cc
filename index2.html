<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>web-call/cc | What's here</title>
    <link href="css/screen.css" rel="stylesheet" type="text/css">
    <link href="css/jquery.terminal-2.3.0.css" rel="stylesheet" type="text/css">
    <link href="css/prism-coy.css" rel="stylesheet" type="text/css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  </head>
  <body><div style="width:800px;"><p></p><p></p></div>
    <div id="content">
      <h3>What's on this website:</h3>
      <ul>
	<li><a href="seq-progd-webapp.html">Sequentially programmed web app examples</a></li>
	<li><a href="mdn-drag-and-drop.html">Example ondragover and ondrop event handlers from MDN</a></li>
	<li><a href="mdn-drag-and-drop-modd.html">Example ondragover and ondrop event handlers from MDN, modified</a></li>
	<li><a href="mdn-drag-and-drop-mod-2.html">Example ondragover and ondrop event handlers from MDN, completely generalised</a></li>
	<li><a href="mdn-drag-and-drop-copy.html">Example ondragover and ondrop event handlers from MDN, modified to copy instead of move</a></li>
	<li><a href="in-browser-gui.html">In-browser GUI using BiwaScheme</a></li>
      </ul>
      <p>The following shows how BiwaScheme can interact with the DOM and the browser console:</p>
      <pre>
<code>(load "browser-util.scm")

(define body (getelem1 "body"))
(js-ref body "children") ;; => [object HTMLCollection]
(js-ref body "childNodes") ;; => [object NodeList]
(define children (js-child-nodes body))
children ;; => ([object HTMLDivElement] [object Text] [object HTMLDivElement] ...)
(js-ref (second children) "nodeName") ;; => "#text"
(js-ref (second children) "tagName") ;; =>
(define div (third children))
(js-ref div "nodeName") ;; => "DIV"
(js-ref div "tagName") ;; => "DIV"
(console-dir div)

(console-dir (car (js-child-nodes div)))
(dom->string div)
;; => "((DIV (id \"junk\") (style \"background-color:yellow;\")) ..."

(js-array->list (js-ref body "childNodes"))
;; => ([object Text] [object HTMLDivElement] [object Text] ...)
(js-obj->alist (js-ref body "children"))
;; => ((0 . [object HTMLDivElement]) (1 . [object HTMLDivElement]) ...)

(node-name body) ;; => "BODY"
(js-child-nodes body) ;; => ([object Text] [object HTMLParagraphElement] ...)
(js-eval "for (const prop in Node) { console.log(`${prop}: ${Node[prop]}`); }")
;; => [Prints Node type constants to the JS console; see https://mzl.la/2zcB5om]
(js-eval "const body = document.body; for (const prop in body) { console.log(`${prop}: ${body[prop]}`); }")
;; => [Prints the properties of the body element to the JS console]
(define junk (getelem1 "#junk"))
(element-attributes junk)
=> (("id" "junk") ("style" "background-color:yellow;"))
(define junk-str (dom->string junk))
(display junk-str)
(http-post-text "/doms" junk-str) ;; [Inserts the DOM into the Zen Database.]
</code>
      </pre>
      <!-- <div id="term" style="margin: 10px 15px 15px 0px; float:left; "></div> -->
      <div id="term"></div>
    </div>
    <div style="clear:left;">
    </div>
    <div id="junk" style="background-color:yellow;">
      <ol>
        <li>One</li>
        <li>Two</li>
        <li>Three</li>
      </ol>
      <p></p>
    </div>
    <p id="paragraph">This is a paragraph.</p>
    <script src="js/biwascheme-0.6.9-min.js" type="text/javascript"></script>
    <script src="js/jquery.mousewheel.min.js" type="text/javascript"></script>
    <script src="js/jquery.timers.min.js" type="text/javascript"></script>
    <script src="js/jquery.cookie.min.js" type="text/javascript"></script>
    <script src="js/jquery.terminal-2.3.0.js" type="text/javascript"></script>
    <script src="js/prism.js" type="text/javascript"></script>
    <script src="js/prism-scheme.js" type="text/javascript"></script>
    <script src="js/jquery.terminal.prism.js" type="text/javascript"></script>
    <script src="js/keyboard.js" type="text/javascript"></script>
    <script src="js/biwascheme_terminal.js" type="text/javascript"></script>
  </body>
</html>
