<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-173606225-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-173606225-1');
    </script>

    <meta charset="utf-8">
    <meta name="theme-color" content="#222127">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="-1">

    <title>web-call.cc</title>

    <!-- FIXME: <link href="website/css/screen.css" rel="stylesheet" type="text/css"> -->
    <link href="website/css/jquery.terminal-2.3.0.css" rel="stylesheet" type="text/css"></script>
    <link href="website/css/prism-coy.css" rel="stylesheet" type="text/css"></script>
    <link href="gui.css" rel="stylesheet" type="text/css">

    <script src="custom-elements/custom-elements.min.js"></script>
    <script src="themes/dojo/dojo-6.0.0.js"></script>
    <script src="in-browser-gui.js"></script>
    <script>
      var biwa;
      window.onload = function() {
          var onError = function(e){ console.error(e); }
          biwa = new BiwaScheme.Interpreter(onError);
          biwa.evaluate('(load "in-browser-program.scm")\
                         (js-call% "setDraggability" (getelem1 ".draggables") "true")\
                         (reset (test))',
                        function(result) { console.log('Scheme loaded.'); });
      };
    </script>
  </head>
  <body>
    <!-- Apply typography and color theme modules globally from `vaadin-lumo-styles` -->
    <custom-style>
      <style include="lumo-typography lumo-color"></style>
    </custom-style>
    
    <vaadin-app-layout style="overflow: auto;">
      <vaadin-drawer-toggle slot="navbar"></vaadin-drawer-toggle>
      <img slot="navbar" src="images/zen.png" alt="Zen Logo" width="32" height="32" referrerpolicy="no-referrer">
      <h2 slot="navbar">&nbsp;&nbsp;web-call.cc</h2>
      <vaadin-tabs selected="1" slot="drawer" orientation="vertical" theme="minimal" style="margin: 0 auto; flex: 1;">
        <vaadin-tab>
          <iron-icon icon="vaadin:home"></iron-icon>
          <a href="index.html">Demo #1: live DOM editor</a>
        </vaadin-tab>
        <vaadin-tab>
          <iron-icon icon="vaadin:list" selected></iron-icon>
          Demo #2: programming
        </vaadin-tab>
        <vaadin-tab>
          <iron-icon icon="vaadin:list"></iron-icon>
          <a href="index2.html">Other experimental code</a>
        </vaadin-tab>
      </vaadin-tabs>
      
      <div class="content" style="max-width:560px; overflow: auto;">
	<h2 style="margin:0.2em 0 0 0;">Demo #2: <a href="https://doc.mashweb.club/">Zen</a> visual programming</h2>
        <vaadin-details id="explanation">
          <div slot="summary"><span id="exstate"></span></div>
	  Drag blocks into the light gray buffer to form a program. Click 'Run your program' to run the program.
	  This demo uses a <em>broken</em> alpha prototype of the Zen visual program editor.
	  It is being presented in this broken state so that it can be shared.
        </vaadin-details>
        <vaadin-details id="bsconsole">
          <div slot="summary"><span id="constate"></span></div>
	  <div id="term"></div>
        </vaadin-details>

	<div style="padding:1em 0 1em 12.35em;">
	  <dojo-button id="RunButton">Run your program</dojo-button>
	</div>
	<div class="draggables" style="padding:0.2em 0 0.2em 2.1em; background-color:lightblue;">
	  Your program:
          <div id="progbuffer" class="workarea"></div>
	  Drag some of these forms and datums into your program:<br/>
	  <dojo-button>define</dojo-button>
	  <dojo-button>function</dojo-button>
	  <dojo-button>begin</dojo-button>
	  <dojo-button>with-handlers</dojo-button>
	  <dojo-button>let*</dojo-button>
	  <dojo-button>set!</dojo-button><br/>
	  <dojo-button>#t</dojo-button>
	  <dojo-button>#f</dojo-button><br/>
	  <dojo-button>not</dojo-button>
	  <dojo-button>and</dojo-button>
	  <dojo-button>or</dojo-button>
	  <dojo-button>if</dojo-button>
	  <dojo-button>case</dojo-button>
	  <dojo-button>while</dojo-button><br/>
	  <dojo-button>equal?</dojo-button>
	  <dojo-button>eq?</dojo-button>
	  <dojo-button>eqv?</dojo-button>
	  <dojo-button>=</dojo-button>
	  <dojo-button><=</dojo-button>
	  <dojo-button>>=</dojo-button><br/>
	  <dojo-button><</dojo-button>
	  <dojo-button>></dojo-button><br/>
	  <dojo-button>alert</dojo-button>
	  <dojo-button>getchar</dojo-button><br/>
	</div>

      </div>
    </vaadin-app-layout>
    
    <!-- <script src="js/biwascheme-0.6.9-min.js"></script> -->
    <!-- Comment out the following 9 lines (down to "End of Biwascheme console code") for production. -->
    <script src="js/biwascheme-0.6.9-min.js"></script>
    <script src="website/js/jquery.mousewheel.min.js" type="text/javascript"></script>
    <script src="website/js/jquery.timers.min.js" type="text/javascript"></script>
    <script src="website/js/jquery.cookie.min.js" type="text/javascript"></script>
    <script src="website/js/jquery.terminal-2.3.0.js" type="text/javascript"></script>
    <script src="website/js/prism.js" type="text/javascript"></script>
    <script src="website/js/prism-scheme.js" type="text/javascript"></script>
    <script src="website/js/jquery.terminal.prism.js" type="text/javascript"></script>
    <script src="website/js/keyboard.js" type="text/javascript"></script>
    <script src="website/js/biwascheme_terminal.js" type="text/javascript"></script>
    <!-- End of Biwascheme console code -->
    <script src="bundle.js"></script>
    <script async src="widgets/icon-6.0.0.js"></script>
    <script async src="widgets/button-6.0.0.js"></script>
    <script src="js/widgets-control.js"></script>
  </body>
</html>
